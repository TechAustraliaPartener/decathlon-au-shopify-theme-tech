<div class="wrapper u-paddingTopBottom4x u-marginBottom4x">
  {% assign account_title = 'customer.orders.title' | t  %}
  {% include 'customers--my-account-header' %}

  <div id="order-history" class="account-orderHistory u-marginTop2x u-block">
  
    {% comment %}
      TODO: Clicking "purchase history" will open "order history" as if it is a new page

      If we have past orders, loop through each one
    {% endcomment %}
    {% paginate customer.orders by 20 %}
      {% if customer.orders.size != 0 %}
  
        <div class="table-wrap">
          <table class="full">
            <thead>
              <tr>
                <th>{{ 'customer.orders.order_number' | t }}</th>
                <th>{{ 'customer.orders.date' | t }}</th>
                <th>{{ 'customer.orders.payment_status' | t }}</th>
                <th>{{ 'customer.orders.fulfillment_status' | t }}</th>
                <th>{{ 'customer.orders.total' | t }}</th>
              </tr>
            </thead>
            <tbody>
              {% for order in customer.orders %}
                <tr>
                  <td>{{ order.name | link_to: order.customer_url }}</td>
                  <td>{{ order.created_at | date: format: 'month_day_year' }}</td>
                  <td>{{ order.financial_status_label }}</td>
                  <td>{{ order.fulfillment_status_label }}</td>
                  <td>{{ order.total_price | money }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

      <p id="order-history-return-btn" class="text-center u-marginTop2x">
        <a class="btn" href="/pages/returns">Return An Item</a>
      </p> 

      {% else %}
  
        <p class="text-center">{{ 'customer.orders.none' | t }}</p>
        <p class="text-center"><a href="/collections" class="btn">Shop Now</a></p>
  
      {% endif %}
      {% if paginate.pages > 1 %}
        <hr>
        <div class="pagination">
          {{ paginate | default_pagination | replace: '&laquo; Previous', '&larr;' | replace: 'Next &raquo;', '&rarr;' }}
        </div>
      {% endif %}
    {% endpaginate %}
  </div>  

</div>
