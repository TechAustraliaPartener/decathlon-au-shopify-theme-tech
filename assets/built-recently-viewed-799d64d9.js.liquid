import{C as e,_ as r}from"./built-toConsumableArray-0fbe23f7.js";var t=function(t){void 0===t&&(t=!1);var o=jQuery(".recently_viewed_products"),n=jQuery("#recently_viewed_products_container"),i=window.productJSON,d=i?i.handle:null,s=parseInt(jQuery("#recently_viewed_products_container").data("max-items"),10);d&&e.set("product_viewed_"+d,Date.now());var a=[];jQuery.each(document.cookie.split(/; */),(function(){var e=this.split("="),r=e[0],t=e[1];r.includes("product_viewed_")&&a.push({name:r,addedDate:t})})),a.sort((function(e,r){return r.addedDate-e.addedDate}));var u=a.map((function(e){return e.name.replace("product_viewed_","")})).filter((function(e){return e!==d}));if(0===u.length)return jQuery("#shopify-section-recently-viewed-products").hide(),void jQuery("#recently-viewed-products-section").hide();jQuery("#recently-viewed-products-section").show();var c=function(e){var r=(t?[{start:0,end:1200,slidesToShow:2},{start:1201,end:99999,slidesToShow:4}]:[{start:0,end:624,slidesToShow:2},{start:625,end:960,slidesToShow:3},{start:961,end:1280,slidesToShow:4},{start:1281,end:1480,slidesToShow:5},{start:1481,end:99999,slidesToShow:6}]).find((function(r){return e>=r.start&&e<=r.end}));return r?r.slidesToShow:0},l=u.map((function(r){var t=jQuery.Deferred();return jQuery.get("/products/"+r+"?view=nolayout.tile").done((function(e){return t.resolve(e)})).fail((function(){e.remove("product_viewed_"+r),t.resolve("")})),t}));jQuery.when.apply(jQuery,r(l)).done((function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];var i=r.filter((function(e){return""!==e})).slice(0,s);o.show(),n.append(i);var d=jQuery("#recently_viewed_products_loading");d.remove(),n.removeClass("row"),n.find(".product_tile").removeClass((function(e,r){return(r.match(/(^|\s)col-\S+/g)||[]).join(" ")}));var a=n.data("arrow-previous-button"),u=n.data("arrow-next-button"),l=c(jQuery(window).width());n.slick({centerMode:!1,infinite:!0,slidesToShow:l,slidesToScroll:l,dots:!0,prevArrow:a,nextArrow:u,responsive:[{breakpoint:992,settings:{dots:!1}}]}),jQuery(window).width()<640&&n.find(".slick-list").css("padding","0 10% 0 0"),setTimeout((function(){n.children("article").remove()}),100)}))};export{t as i};
