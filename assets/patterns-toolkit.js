!function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,function(){if(!document.scrollingElement){var t=null;Object.defineProperty(document,"scrollingElement",{get:function(){if(t)return t;if(document.body.scrollTop)return t=document.body;var e=document.createElement("iframe");e.style.height="1px",document.documentElement.appendChild(e);var i=e.contentWindow.document;i.write('<!DOCTYPE html><div style="height:9999em">x</div>'),i.close();var n=i.documentElement.scrollHeight>i.body.scrollHeight;return e.parentNode.removeChild(e),t=n?document.documentElement:document.body}})}}();var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s="collapsible",a=".de.collapsible",r={COLLAPSED:"de-is-collapsed"},o={CLICK:"click"+a,HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a},l={actionAttr:"data-de-collapsible-action",defaultAction:"toggle",parent:null,targetAttr:"data-de-collapsible-target"},d=function(){function s(e,n){var a=this;if(i(this,s),this._element=t(e),this._settings=n,this._id=this._element.attr("id"),this._state={collapsed:this._element.hasClass(r.COLLAPSED),transitioning:!1},this._controlElements=t(this._id&&"["+this._settings.targetAttr+'="'+this._id+'"]').each(function(t,e){return a._initControl(e)}),this._parentElement=t(this._settings.parent&&"#"+this._settings.parent),this._siblingElements=t(),this._parentElement.length>0){var o=this._parentElement.find('[data-parent="'+this._parentElement.attr("id")+'"]'),l=o.not("."+r.COLLAPSED).first();this._siblingElements=this._siblingElements.add(o.not(this._element)),l.is(this._element)&&this._hideSiblings()}this._updateAria()}return n(s,[{key:"toggle",value:function(t){void 0===t&&(t=this._state.collapsed),t?this.show():this.hide()}},{key:"show",value:function(){!this._state.transitioning&&this._state.collapsed&&(this._element.trigger(o.SHOW),this._state.transitioning=!0,this._hideSiblings(),this._element.removeClass(r.COLLAPSED),this._state.collapsed=!1,this._updateAria(),this._state.transitioning=!1,this._element.trigger(o.SHOWN))}},{key:"hide",value:function(){this._state.transitioning||this._state.collapsed||(this._element.trigger(o.HIDE),this._state.transitioning=!0,this._element.addClass(r.COLLAPSED),this._state.collapsed=!0,this._updateAria(),this._state.transitioning=!1,this._element.trigger(o.HIDDEN))}},{key:"_hideSiblings",value:function(){var t=this._siblingElements.not("."+r.COLLAPSED);t.length>0&&s._jQueryInterface.call(t,"hide")}},{key:"_initControl",value:function(e){var i=this,n=(e=t(e).attr("aria-controls",this._id)).attr(this._settings.actionAttr)||this._settings.defaultAction;if(void 0===this[n])throw new Error('No method named "'+n+'"');e.on(o.CLICK,function(t){e.is("a")&&t.preventDefault(),i[n]()})}},{key:"_updateAria",value:function(){this._element.attr("aria-hidden",this._state.collapsed?"true":"false"),this._controlElements.attr("aria-expanded",this._state.collapsed?"false":"true"),this._controlElements.filter("["+this._settings.actionAttr+'="show"]').attr("aria-disabled",this._state.collapsed?"false":"true"),this._controlElements.filter("["+this._settings.actionAttr+'="hide"]').attr("aria-disabled",this._state.collapsed?"true":"false")}}],[{key:"_jQueryInterface",value:function(i){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return this.each(function(){var n=t(this),r=n.data("de.collapsible"),o=t.extend({},l,n.data(),"object"===(void 0===i?"undefined":e(i))&&i);if(r||(r=new s(this,o),n.data("de.collapsible",r)),"string"==typeof i){var d;if(void 0===r[i])throw new Error('No method named "'+i+'"');(d=r)[i].apply(d,a)}})}}]),s}();t.fn[s]=d._jQueryInterface;var h={OPEN:"de-is-open",OPENING:"de-is-opening",EXPANDED:"de-is-expanded",EXPANDING:"de-is-expanding"},c={CLICK:"click.de.pageWrap",MOUSE_ENTER:"mouseenter.de.pageWrap",MOUSE_LEAVE:"mouseleave.de.pageWrap",RESIZE:"resize.de.pageWrap"},u={actionAttr:"data-de-page-wrap-action",cancelAttr:"data-de-page-wrap-cancel",hoverAttr:"data-de-page-wrap-hover",fixAttr:"data-de-page-wrap-fix",scrollingElement:document.scrollingElement,targetAttr:"data-de-page-wrap-target",throttleDelay:300,transitionDuration:200,hoverCloseDelay:600,hoverOpenDelay:100,clickClosePreventionTimeout:600},_=function(){function s(e,n){var a,r,o,l,d,u,_=this;i(this,s),this._element=t(e),this._menuElements=t(),this._settings=n,this._state={open:this._element.hasClass(h.OPEN),expanded:this._element.hasClass(h.EXPANDED),transitioning:!1},this._scrollingElement=t(this._settings.scrollingElement),this._scrollFixElements=this._element.find("["+this._settings.fixAttr+'~="scroll"]'),this._scrollbarFixElements=this._element.find("["+this._settings.fixAttr+'~="bar"]'),this._element.find("["+this._settings.actionAttr+"]").each(function(t,e){return _._initControl(e)}),this._updateAria(),t(window).on(c.RESIZE,(a=this._settings.throttle,u=0,"boolean"!=typeof(r=function(){return _._updateAria()})&&(l=o,o=r,r=void 0),function(){var t=this,e=Number(new Date)-u,i=arguments;function n(){u=Number(new Date),o.apply(t,i)}l&&!d&&n(),d&&clearTimeout(d),void 0===l&&e>a?n():!0!==r&&(d=setTimeout(l?function(){d=void 0}:n,void 0===l?a-e:a))}))}return n(s,[{key:"toggleMenu",value:function(t){if(void 0===t&&(t=!this._state.open),t)return this.openMenu();this.closeMenu()}},{key:"openMenu",value:function(){var t=this;this._state.open||this._state.transitioning||(this._state.transitioning=!0,this._fixScroll(),this._element.addClass(h.OPENING),this._element.outerWidth()&&this._element.addClass(h.OPEN),setTimeout(function(){t._updateAria(),t._state.open=!0,t._state.transitioning=!1},this._settings.transitionDuration))}},{key:"closeMenu",value:function(){var t=this;this._state.open&&!this._state.transitioning&&(this._state.transitioning=!0,this._element.removeClass(h.OPEN),setTimeout(function(){t._element.removeClass(h.OPENING),t._restoreScroll(),t._updateAria(),t._state.open=!1,t._state.transitioning=!1},this._settings.transitionDuration))}},{key:"toggleExpand",value:function(t){if(void 0===t&&(t=!this._state.expanded),t)return this.expand();this.collapse()}},{key:"expand",value:function(){var t=this;this._state.expanded||this._state.transitioning||(this._state.transitioning=!0,this._element.addClass(h.EXPANDING),this._element.outerWidth()&&this._element.addClass(h.EXPANDED),setTimeout(function(){t._updateAria(),t._state.expanded=!0,t._state.transitioning=!1},this._settings.transitionDuration))}},{key:"collapse",value:function(){var t=this;this._state.expanded&&!this._state.transitioning&&(this._state.transitioning=!0,this._element.removeClass(h.EXPANDED),setTimeout(function(){t._element.removeClass(h.EXPANDING),t._updateAria(),t._state.expanded=!1,t._state.transitioning=!1},this._settings.transitionDuration))}},{key:"_fixScroll",value:function(){this._state.scrollTop=this._scrollingElement.scrollTop(),this._state.scrollbarWidth=window.innerWidth-document.documentElement.clientWidth,this._state.scrollTop&&this._scrollFixElements.css("transform","translateY(-"+this._state.scrollTop+"px)"),this._state.scrollbarWidth&&this._scrollbarFixElements.css("padding-right",this._state.scrollbarWidth+"px")}},{key:"_restoreScroll",value:function(){this._state.scrollbarWidth&&this._scrollbarFixElements.css("padding-right",""),this._state.scrollTop&&(this._scrollFixElements.css("transform",""),this._scrollingElement.scrollTop(this._state.scrollTop))}},{key:"_initControl",value:function(e){var i=this,n=(e=t(e)).attr(this._settings.actionAttr),s=e.attr(this._settings.targetAttr),a=t("#"+s),r="true"===e.attr(this._settings.hoverAttr);1===a.length&&(this._menuElements=this._menuElements.add(a),e.attr({"aria-controls":s,"aria-haspopup":"true"}));var o=0;if(e.on(c.CLICK,function(s){if(0===t(s.target).closest("["+i._settings.cancelAttr+"]").length){var a=Date.now()-o;if("toggleMenu"===n&&i._state.open&&a<i._settings.clickClosePreventionTimeout&&e.is(":hover"))return;i[n]()}}),1===a.length&&"toggleMenu"===n&&r){var l=!1,d=void 0,h=function(){l=!1,clearTimeout(d),d=setTimeout(function(){l||(e.add(a).off(c.MOUSE_LEAVE),i.closeMenu())},i._settings.hoverCloseDelay)};e.on(c.MOUSE_ENTER,function(n){o=Date.now(),l=!0,clearTimeout(d),d=setTimeout(function(){i.openMenu()},i._settings.hoverOpenDelay),e.on(c.MOUSE_LEAVE,function(e){0===t(e.relatedTarget).closest(a).length&&h()}),a.on(c.MOUSE_LEAVE,function(i){0===t(i.relatedTarget).closest(e).length&&h()})}),a.on(c.MOUSE_ENTER,function(t){l=!0,clearTimeout(d)})}}},{key:"_updateAria",value:function(){this._menuElements.each(function(e,i){var n=(i=t(i)).attr("id"),s=i.is(":visible");t('[aria-controls="'+n+'"]:visible').attr("aria-expanded",s?"true":"false"),i.attr("aria-hidden",s?"false":"true")})}}],[{key:"_jQueryInterface",value:function(i){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return this.each(function(){var n=t(this),r=n.data("de.pageWrap"),o=t.extend({},u,n.data(),"object"===(void 0===i?"undefined":e(i))&&i);if(r||(r=new s(this,o),n.data("de.pageWrap",r)),"string"==typeof i){var l;if(void 0===r[i])throw new Error('No method named "'+i+'"');(l=r)[i].apply(l,a)}})}}]),s}();t.fn.pageWrap=_._jQueryInterface;var g={INIT:"de-is-initialized",ACTIVE:"de-is-active",POPPING:"de-is-popping",POPPED:"de-is-popped",PUSHING:"de-is-pushing",PUSHED:"de-is-pushed"},f={CLICK:"click.de.slideViews",TRANSITION_END:"transitionend.de.slideViews"},p={views:".js-de-SlideViews-view",actionAttr:"data-de-slideViews-action",targetAttr:"data-de-slideViews-target",defaultAction:"push"},v=function(){function s(e,n){var a=this;i(this,s),this._element=t(e),this._settings=n,this._views=this._element.find(this._settings.views),this._controls=this._element.find("["+this._settings.targetAttr+"]"),this._state={transitioning:!1,activeView:null};var r=this._getActiveView();r.length>1?r.not(r.first()).removeClass(g.ACTIVE):0===r.length&&this._views.first().addClass(g.ACTIVE),this._state.activeView=this._getActiveViewID(),this._controls.each(function(e,i){var n=(i=t(i)).attr(a._settings.targetAttr),s=i.attr(a._settings.actionAttr)||a._settings.defaultAction;console.log(a._settings.targetAttr),i.on(f.CLICK,function(t){t.preventDefault(),a[s]("#"+n)})}),this._element.addClass(g.INIT),this._setInitialAria(),this._updateAria()}return n(s,[{key:"push",value:function(t){this._slideTo(t)}},{key:"pop",value:function(t){this._slideTo(t,!0)}},{key:"_getActiveView",value:function(){return this._views.filter("."+g.ACTIVE)}},{key:"_getActiveViewID",value:function(){var t=this._getActiveView();return t.length>0?t[0].id:null}},{key:"_getViewControls",value:function(e){return t(e).find("["+this._settings.targetAttr+"]")}},{key:"_slideTo",value:function(e,i){var n=this;if(e=t(e),!this._state.transitioning&&!e.hasClass(g.ACTIVE)){this._updateState({transitioning:!0});var s=this._views.filter("."+g.ACTIVE),a=i?g.PUSHING:g.POPPING,r=i?g.PUSHED:g.POPPED,o=i?g.POPPING:g.PUSHING,l=i?g.POPPED:g.PUSHED;s.addClass(r+" "+a),e.addClass(g.ACTIVE+" "+o),s.on(f.TRANSITION_END,function(e){t(e.target).is(s)&&(s.off(f.TRANSITION_END),s.removeClass(g.ACTIVE+" "+a+" "+r))}),e.on(f.TRANSITION_END,function(i){t(i.target).is(e)&&(e.off(f.TRANSITION_END),e.removeClass(o+" "+l),n._updateStateAndAria({transitioning:!1}))}),s.outerWidth()&&s.removeClass(r),e.outerWidth()&&e.addClass(l)}}},{key:"_updateStateAndAria",value:function(t){this._updateState(Object.assign({},t,{updateActiveView:!0})),this._updateAria()}},{key:"_updateState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{transitioning:!1,updateActiveView:!1};this._state.transitioning=t.transitioning,t.updateActiveView&&(this._state.activeView=this._getActiveViewID())}},{key:"_setInitialAria",value:function(){var e=this;this._controls.each(function(i,n){var s=t(n).attr(e._settings.targetAttr);t(n).attr("aria-controls",s)})}},{key:"_updateAria",value:function(){var e=this;this._views.each(function(i,n){var s=t(n),a=s.attr("id")===e._state.activeView,r=e._getViewControls(n);s.attr("aria-hidden",a?"false":"true"),r.attr("aria-expanded",a?"true":"false")},this)}}],[{key:"_jQueryInterface",value:function(i){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return this.each(function(){var n=t(this),r=n.data("de.slideViews"),o=t.extend({},p,n.data(),"object"===(void 0===i?"undefined":e(i))&&i);if(r||(r=new s(this,o),n.data("de.slideViews",r)),"string"==typeof i){var l;if(void 0===r[i])throw new Error('No method named "'+i+'"');(l=r)[i].apply(l,a)}})}}]),s}();t.fn.slideViews=v._jQueryInterface,t(".js-de-Collapsible").collapsible(),t(".js-de-PageWrap").pageWrap(),t(".js-de-SlideViews").slideViews()}(jQuery);
