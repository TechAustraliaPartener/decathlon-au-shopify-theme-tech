import{J as e,c as r}from"./built-fetch-stores-13903880.js";import{_ as t}from"./built-toConsumableArray-0fbe23f7.js";import{f as i,a as c,c as n}from"./built-price-format-ce03fe00.js";var a=null,o="."+e+"ColorSwatchList-action",u=function(e){a.querySelectorAll(o).forEach((function(r){r.addEventListener("mouseenter",(function(r){e(r.target.dataset.color)}))}))},s=function(e){a=e},l="."+e+"ProductTile-price",p="."+e+"ProductTile-currentPrice",m="."+e+"ProductTile-crossedOutPrice";document.querySelectorAll("."+e+"ProductTile").forEach((function(a){var f={productTileEl:a},d=t(a.querySelectorAll(o)),g=d.reduce((function(e,r){var t,i=r.dataset;return Object.assign({},e,((t={})[i.color]={productId:i.productId,prices:i.prices,pricesDelimiter:i.pricesDelimiter,image1:i.image,image1Alt:i.imageAlt,image2:i.image2,image2Alt:i.image2Alt,compareAtPrice:i.compareAtPrice,priceVaries:"true"===i.priceVaries,compareAtPriceVaries:"true"===i.compareAtPriceVaries,isFreeShipping:"true"===i.isFreeShipping},t))}),{}),v=n(f),A=d[0].dataset.color,S=function(e){return void 0===e&&(e=g[A]),{image1:{url:e.image1,alt:e.image1Alt},image2:{url:e.image2,alt:e.image2Alt}}};s(a);var h=function(r){var t=r.querySelector("."+e+"ProductTile-featureImage"),i=n({image1:{},image2:{},isHovered:!1});return t&&(i.onChange((function(e){var r=e.isHovered?e.image2:e.image1,i=r.alt;t.src=r.url,t.alt=i})),t.addEventListener("mouseenter",(function(){return i.updateState({isHovered:!0})})),t.addEventListener("mouseleave",(function(){return i.updateState({isHovered:!1})}))),{updateImages:function(e){return i.updateState(e)}}}(a),P=function(t){var i=t.querySelector("."+e+"DeliveryOptions-freeShippingOverFifty");return{updateFreeShipping:function(e){void 0===e&&(e={}),i&&(e.isFreeShipping?i.classList.add(r):i.classList.remove(r))}}}(a);h.updateImages(S()),v.onChange((function(e){var r=e.chosenColor,t=g[r];(function(e){var r=e.priceVaries,t=e.compareAtPrice,n=e.compareAtPriceVaries,a=e.productTileEl;(function(e){return e.querySelectorAll(l+" "+p)})(a).forEach((function(r){var t,n;r.textContent=(n=(t=e).prices,t.priceVaries?c(n,t.pricesDelimiter):n?i(n.split("|")[0]):"")})),function(e){return e.querySelectorAll(l+" "+m)}(a).forEach((function(e){r||n||!t||(e.textContent=i(t))}))})(function(e){if(e)return Object.assign({},g[e],{productTileEl:a});var r=Object.values(g).flatMap((function(e){return e.prices?e.prices.split(e.pricesDelimiter):[]})),t=Object.values(g).flatMap((function(e){return e.compareAtPrice?e.compareAtPrice.split(e.pricesDelimiter):[]})),i=r.some((function(e){return e!==r[0]})),c=t.some((function(e){return e!==t[0]}));return{prices:r.join("=="),priceVaries:i,compareAtPrice:t.join("=="),compareAtPriceVaries:c,pricesDelimiter:"==",productTileEl:a}}(r)),h.updateImages(S(t)),P.updateFreeShipping(t||{isFreeShipping:Object.values(g).every((function(e){return e.isFreeShipping}))})}),(function(e){return[e.chosenColor]})),u((function(e){return v.updateState({chosenColor:e})})),a.addEventListener("mouseleave",(function(){v.updateState({chosenColor:void 0})}))}));
