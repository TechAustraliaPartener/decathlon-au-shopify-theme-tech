import{J as e,c as r}from"./built-fetch-stores-13903880.js";import{_ as t}from"./built-toConsumableArray-0fbe23f7.js";import{c as i}from"./built-create-state-e7ac62e2.js";var n=null,a="."+e+"ColorSwatchList-action",c=function(e){n.querySelectorAll(a).forEach((function(r){r.addEventListener("mouseenter",(function(r){e(r.target.dataset.color)}))}))},o=function(e){n=e},u=function(e){return e?"$"+function(e){return e?(parseInt(e,10)/100).toFixed(2):""}(e):""},s="."+e+"ProductTile-price",l="."+e+"ProductTile-currentPrice",p="."+e+"ProductTile-crossedOutPrice";document.querySelectorAll("."+e+"ProductTile").forEach((function(n){var m={productTileEl:n},f=t(n.querySelectorAll(a)),d=f.reduce((function(e,r){var t,i=r.dataset;return Object.assign({},e,((t={})[i.color]={productId:i.productId,prices:i.prices,pricesDelimiter:i.pricesDelimiter,image1:i.image,image1Alt:i.imageAlt,image2:i.image2,image2Alt:i.image2Alt,compareAtPrice:i.compareAtPrice,priceVaries:"true"===i.priceVaries,compareAtPriceVaries:"true"===i.compareAtPriceVaries,isFreeShipping:"true"===i.isFreeShipping},t))}),{}),g=i(m),v=f[0].dataset.color,h=function(e){return void 0===e&&(e=d[v]),{image1:{url:e.image1,alt:e.image1Alt},image2:{url:e.image2,alt:e.image2Alt}}};o(n);var A=function(r){var t=r.querySelector("."+e+"ProductTile-featureImage"),n=i({image1:{},image2:{},isHovered:!1});return t&&(n.onChange((function(e){var r=e.isHovered?e.image2:e.image1,i=r.alt;t.src=r.url,t.alt=i})),t.addEventListener("mouseenter",(function(){return n.updateState({isHovered:!0})})),t.addEventListener("mouseleave",(function(){return n.updateState({isHovered:!1})}))),{updateImages:function(e){return n.updateState(e)}}}(n),S=function(t){var i=t.querySelector("."+e+"DeliveryOptions-freeShippingOverFifty");return{updateFreeShipping:function(e){void 0===e&&(e={}),i&&(e.isFreeShipping?i.classList.add(r):i.classList.remove(r))}}}(n);A.updateImages(h()),g.onChange((function(e){var r=e.chosenColor,i=d[r];(function(e){var r=e.priceVaries,i=e.compareAtPrice,n=e.compareAtPriceVaries,a=e.productTileEl;(function(e){return e.querySelectorAll(s+" "+l)})(a).forEach((function(r){var i,n;r.textContent=(n=(i=e).prices,i.priceVaries?function(e,r){if(void 0===r&&(r="=="),!e)return"";var i=function(e,r){return e?e.split(r).filter((function(e){return""!==e})):[]}(e,r),n=""+Math.min.apply(Math,t(i)),a=""+Math.max.apply(Math,t(i));return n===a?u(n):u(n)+" â€” "+u(a)}(n,i.pricesDelimiter):n?u(n.split("|")[0]):"")})),function(e){return e.querySelectorAll(s+" "+p)}(a).forEach((function(e){r||n||!i||(e.textContent=u(i))}))})(function(e){if(e)return Object.assign({},d[e],{productTileEl:n});var r=Object.values(d).flatMap((function(e){return e.prices?e.prices.split(e.pricesDelimiter):[]})),t=Object.values(d).flatMap((function(e){return e.compareAtPrice?e.compareAtPrice.split(e.pricesDelimiter):[]})),i=r.some((function(e){return e!==r[0]})),a=t.some((function(e){return e!==t[0]}));return{prices:r.join("=="),priceVaries:i,compareAtPrice:t.join("=="),compareAtPriceVaries:a,pricesDelimiter:"==",productTileEl:n}}(r)),A.updateImages(h(i)),S.updateFreeShipping(i||{isFreeShipping:Object.values(d).every((function(e){return e.isFreeShipping}))})}),(function(e){return[e.chosenColor]})),c((function(e){return g.updateState({chosenColor:e})})),n.addEventListener("mouseleave",(function(){g.updateState({chosenColor:void 0})}))}));
