{% comment %}
  Variable(s)
{% endcomment %}
{%- assign product_images = product.images -%}
{%- assign context_photo_delimiter = '[[contextphoto]]' -%}

{% comment %}
  Product context image(s)
{% endcomment %}
{%- for product_image in product_images -%}
  {%- if product_image.alt contains context_photo_delimiter -%}
    {% capture image_srcset %}
      {{ product_image | img_url: "320x" }} 320w,
      {{ product_image | img_url: "380x" }} 380w,
      {{ product_image | img_url: "480x" }} 480w,
      {{ product_image | img_url: "580x" }} 580w,
      {{ product_image | img_url: "680x" }} 680w,
      {{ product_image | img_url: "780x" }} 780w,
      {{ product_image | img_url: "880x" }} 880w,
      {{ product_image | img_url: "1080x" }} 1080w,
      {{ product_image | img_url: "1280x" }} 1280w
    {% endcapture %}
    {% capture image_sizes %}
      (max-width: 480px) 320px,
      (max-width: 580px) 380px,
      (max-width: 880px) 480px,
      (max-width: 1280px) 580px,
      (max-width: 1480px) 680px,
      (max-width: 1880px) 780px,
      (max-width: 2080px) 880px,
      (max-width: 2580px) 1080px,
      (max-width: 3080px) 1280px
    {% endcapture %}
    <img
      class='ProductImageGallery-item js-de-CarouselContextSlide'
      data-srcset='{{ image_srcset }}'
      data-sizes='{{ image_sizes }}'>
  {%- endif -%}
{%- endfor -%}
