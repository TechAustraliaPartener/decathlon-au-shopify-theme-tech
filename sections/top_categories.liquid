<!-- 1224 max width -->
<div class="container">
  <ul class="top_categories_list">
    {% for block in section.blocks %}
      {% if block.type == 'category' %}
        <li class="top_categories_item top_categories_item_{{forloop.index}}">
          {% render 'components-top_category', settings: block.settings %}
        </li>
      {% endif %}
    {% endfor %}
  </ul>
</div>

<style>
    {% for block in section.blocks %}
      #shopify-section-{{section.id}} .top_categories_item_{{forloop.index}} .top_category {
        background-color: {{block.settings.background_color}};
      }

      #shopify-section-{{section.id}} .top_categories_item_{{forloop.index}} .top_category:hover {
        background-color: {{block.settings.hover_background_color}};
      }

      #shopify-section-{{section.id}} .top_categories_item_{{forloop.index}} .top_category_title {
        color: {{block.settings.text_color}};
      }
    {% endfor %}
</style>

{% schema %}
  {
    "name": "Top Categories",
    "tag": "section",
    "class": "top_categories_section",
    "settings": [],
    "blocks": [
      {
       "name": "Category",
       "type": "category",
       "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Title"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image",
            "info": "Upload image in 140px x 140px dimensions"
          },
          {
            "type": "color",
            "id": "text_color",
            "label": "Text Colour"
          },
          {
            "type": "color",
            "id": "background_color",
            "label": "Background Colour"
          },
          {
            "type": "color",
            "id": "hover_background_color",
            "label": "Hover Background Colour"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Button link"
          }
       ]
      }
    ],
    "max_blocks": 6,
    "presets": [{
      "name": "Top Categories"
    }]
  }
{% endschema %}
